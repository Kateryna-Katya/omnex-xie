{"version":3,"file":"main-c9FjuZgj.js","sources":["../../src/main.js"],"sourcesContent":["// Регистрируем плагин ScrollTrigger\ngsap.registerPlugin(ScrollTrigger);\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    \n    // ==========================================\n    // 1. ICONS & SCROLL INIT\n    // ==========================================\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        direction: 'vertical',\n        smooth: true,\n        mouseMultiplier: 1,\n        touchMultiplier: 2,\n    });\n\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // ==========================================\n    // 2. MOBILE MENU\n    // ==========================================\n    const burgerBtn = document.querySelector('.header__burger');\n    const headerNav = document.querySelector('.header__nav');\n    const body = document.body;\n    const navLinks = document.querySelectorAll('.header__link');\n    const ctaBtn = document.querySelector('.header__actions .btn');\n\n    const toggleMenu = () => {\n        if (!headerNav) return;\n        const isActive = headerNav.classList.contains('header__nav--active');\n        if (isActive) {\n            headerNav.classList.remove('header__nav--active');\n            body.style.overflow = '';\n        } else {\n            headerNav.classList.add('header__nav--active');\n            body.style.overflow = 'hidden';\n        }\n    };\n\n    if (burgerBtn) burgerBtn.addEventListener('click', toggleMenu);\n    navLinks.forEach(link => link.addEventListener('click', toggleMenu));\n    if (ctaBtn) ctaBtn.addEventListener('click', toggleMenu);\n\n    // ==========================================\n    // 3. HERO ANIMATION (GSAP REVEAL)\n    // ==========================================\n    // Текст\n    if (document.querySelector('#hero-title') && typeof SplitType !== 'undefined') {\n        const heroTitle = new SplitType('#hero-title', { types: 'lines, chars' });\n        const tl = gsap.timeline({ defaults: { ease: \"power3.out\" } });\n\n        tl.from(heroTitle.chars, {\n            y: 100, opacity: 0, rotation: 5, duration: 1, stagger: 0.02, delay: 0.2\n        })\n        .to('.hero__desc', { opacity: 1, y: 0, duration: 0.8, onStart: () => gsap.set('.hero__desc', { y: 20 }) }, \"-=0.6\")\n        .to('.hero__actions', { opacity: 1, y: 0, duration: 0.8, onStart: () => gsap.set('.hero__actions', { y: 20 }) }, \"-=0.6\")\n        .to('.hero__stats', { opacity: 1, duration: 0.8 }, \"-=0.4\");\n    }\n\n    // Изображение (Parallax + Reveal)\n    const visualContainer = document.querySelector('.hero__visual--gsap');\n    const visualImage = document.querySelector('.hero__img-target');\n    const visualCurtain = document.querySelector('.hero__reveal-curtain');\n\n    if (visualContainer && visualImage && visualCurtain) {\n        const tlVisual = gsap.timeline({ defaults: { ease: \"power4.inOut\" } });\n        tlVisual\n            .to(visualCurtain, { height: 0, duration: 1.5, delay: 0.5 })\n            .to(visualImage, { scale: 1, duration: 2, ease: \"power2.out\" }, \"-=1.5\");\n\n        visualContainer.addEventListener('mousemove', (e) => {\n            const { left, top, width, height } = visualContainer.getBoundingClientRect();\n            const x = (e.clientX - left) / width - 0.5;\n            const y = (e.clientY - top) / height - 0.5;\n            gsap.to(visualImage, {\n                x: x * 30, y: y * 30, rotationY: x * 10, rotationX: -y * 10, duration: 1, ease: \"power2.out\"\n            });\n        });\n\n        visualContainer.addEventListener('mouseleave', () => {\n            gsap.to(visualImage, { x: 0, y: 0, rotationY: 0, rotationX: 0, duration: 1, ease: \"power2.out\" });\n        });\n    }\n\n    // ==========================================\n    // 4. SCROLL ANIMATIONS (SECTIONS)\n    // ==========================================\n    const sections = document.querySelectorAll('.section');\n    sections.forEach(section => {\n        gsap.from(section.children, {\n            scrollTrigger: {\n                trigger: section,\n                start: \"top 80%\", // Старт анимации когда секция на 80% во вьюпорте\n                toggleActions: \"play none none reverse\"\n            },\n            y: 50,\n            opacity: 0,\n            duration: 0.8,\n            stagger: 0.2,\n            ease: \"power2.out\"\n        });\n    });\n\n    // ==========================================\n    // 5. FORM HANDLING\n    // ==========================================\n    const form = document.getElementById('lead-form');\n    const phoneInput = document.getElementById('phone');\n    const captchaLabel = document.getElementById('captcha-label');\n    const captchaInput = document.getElementById('captcha');\n    const formMessage = document.getElementById('form-message');\n\n    // Генерация капчи\n    const num1 = Math.floor(Math.random() * 10);\n    const num2 = Math.floor(Math.random() * 10);\n    if (captchaLabel) captchaLabel.textContent = `Сколько будет ${num1} + ${num2}?`;\n\n    // Валидация телефона (только цифры)\n    if (phoneInput) {\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/\\D/g, '');\n        });\n    }\n\n    if (form) {\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            \n            // Проверка капчи\n            if (parseInt(captchaInput.value) !== (num1 + num2)) {\n                formMessage.textContent = 'Ошибка: Неверный ответ на пример';\n                formMessage.className = 'form-message error';\n                return;\n            }\n\n            // Имитация отправки\n            const btn = form.querySelector('button');\n            const originalText = btn.textContent;\n            btn.textContent = 'Отправка...';\n            btn.disabled = true;\n\n            setTimeout(() => {\n                form.reset();\n                btn.textContent = originalText;\n                btn.disabled = false;\n                formMessage.textContent = 'Спасибо! Мы свяжемся с вами в ближайшее время.';\n                formMessage.className = 'form-message success';\n                \n                // Скрываем сообщение через 5 сек\n                setTimeout(() => { formMessage.textContent = ''; }, 5000);\n            }, 1500);\n        });\n    }\n\n    // ==========================================\n    // 6. COOKIE POPUP\n    // ==========================================\n    const cookiePopup = document.getElementById('cookie-popup');\n    const cookieBtn = document.getElementById('cookie-accept');\n\n    if (!localStorage.getItem('cookiesAccepted')) {\n        setTimeout(() => {\n            cookiePopup.style.display = 'block';\n            gsap.fromTo(cookiePopup, { y: 50, opacity: 0 }, { y: 0, opacity: 1, duration: 0.5 });\n        }, 2000);\n    }\n\n    if (cookieBtn) {\n        cookieBtn.addEventListener('click', () => {\n            localStorage.setItem('cookiesAccepted', 'true');\n            gsap.to(cookiePopup, { \n                y: 50, opacity: 0, duration: 0.5, \n                onComplete: () => { cookiePopup.style.display = 'none'; } \n            });\n        });\n    }\n});"],"names":["lenis","raf","time","burgerBtn","headerNav","body","navLinks","ctaBtn","toggleMenu","link","heroTitle","visualContainer","visualImage","visualCurtain","e","left","top","width","height","x","y","section","form","phoneInput","captchaLabel","captchaInput","formMessage","num1","num2","btn","originalText","cookiePopup","cookieBtn"],"mappings":"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"}