(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function c(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=c(e);fetch(e.href,o)}})();gsap.registerPlugin(ScrollTrigger);document.addEventListener("DOMContentLoaded",()=>{typeof lucide<"u"&&lucide.createIcons();const g=new Lenis({duration:1.2,easing:t=>Math.min(1,1.001-Math.pow(2,-10*t)),direction:"vertical",smooth:!0,mouseMultiplier:1,touchMultiplier:2});function s(t){g.raf(t),requestAnimationFrame(s)}requestAnimationFrame(s);const c=document.querySelector(".header__burger"),r=document.querySelector(".header__nav"),e=document.body,o=document.querySelectorAll(".header__link"),i=document.querySelector(".header__actions .btn"),p=()=>{if(!r)return;r.classList.contains("header__nav--active")?(r.classList.remove("header__nav--active"),e.style.overflow=""):(r.classList.add("header__nav--active"),e.style.overflow="hidden")};if(c&&c.addEventListener("click",p),o.forEach(t=>t.addEventListener("click",p)),i&&i.addEventListener("click",p),document.querySelector("#hero-title")&&typeof SplitType<"u"){const t=new SplitType("#hero-title",{types:"lines, chars"});gsap.timeline({defaults:{ease:"power3.out"}}).from(t.chars,{y:100,opacity:0,rotation:5,duration:1,stagger:.02,delay:.2}).to(".hero__desc",{opacity:1,y:0,duration:.8,onStart:()=>gsap.set(".hero__desc",{y:20})},"-=0.6").to(".hero__actions",{opacity:1,y:0,duration:.8,onStart:()=>gsap.set(".hero__actions",{y:20})},"-=0.6").to(".hero__stats",{opacity:1,duration:.8},"-=0.4")}const l=document.querySelector(".hero__visual--gsap"),u=document.querySelector(".hero__img-target"),y=document.querySelector(".hero__reveal-curtain");l&&u&&y&&(gsap.timeline({defaults:{ease:"power4.inOut"}}).to(y,{height:0,duration:1.5,delay:.5}).to(u,{scale:1,duration:2,ease:"power2.out"},"-=1.5"),l.addEventListener("mousemove",n=>{const{left:f,top:q,width:w,height:C}=l.getBoundingClientRect(),S=(n.clientX-f)/w-.5,b=(n.clientY-q)/C-.5;gsap.to(u,{x:S*30,y:b*30,rotationY:S*10,rotationX:-b*10,duration:1,ease:"power2.out"})}),l.addEventListener("mouseleave",()=>{gsap.to(u,{x:0,y:0,rotationY:0,rotationX:0,duration:1,ease:"power2.out"})})),document.querySelectorAll(".section").forEach(t=>{gsap.from(t.children,{scrollTrigger:{trigger:t,start:"top 80%",toggleActions:"play none none reverse"},y:50,opacity:0,duration:.8,stagger:.2,ease:"power2.out"})});const d=document.getElementById("lead-form"),h=document.getElementById("phone"),v=document.getElementById("captcha-label"),I=document.getElementById("captcha"),a=document.getElementById("form-message"),_=Math.floor(Math.random()*10),L=Math.floor(Math.random()*10);v&&(v.textContent=`Сколько будет ${_} + ${L}?`),h&&h.addEventListener("input",t=>{t.target.value=t.target.value.replace(/\D/g,"")}),d&&d.addEventListener("submit",t=>{if(t.preventDefault(),parseInt(I.value)!==_+L){a.textContent="Ошибка: Неверный ответ на пример",a.className="form-message error";return}const n=d.querySelector("button"),f=n.textContent;n.textContent="Отправка...",n.disabled=!0,setTimeout(()=>{d.reset(),n.textContent=f,n.disabled=!1,a.textContent="Спасибо! Мы свяжемся с вами в ближайшее время.",a.className="form-message success",setTimeout(()=>{a.textContent=""},5e3)},1500)});const m=document.getElementById("cookie-popup"),E=document.getElementById("cookie-accept");localStorage.getItem("cookiesAccepted")||setTimeout(()=>{m.style.display="block",gsap.fromTo(m,{y:50,opacity:0},{y:0,opacity:1,duration:.5})},2e3),E&&E.addEventListener("click",()=>{localStorage.setItem("cookiesAccepted","true"),gsap.to(m,{y:50,opacity:0,duration:.5,onComplete:()=>{m.style.display="none"}})})});
//# sourceMappingURL=main-c9FjuZgj.js.map
